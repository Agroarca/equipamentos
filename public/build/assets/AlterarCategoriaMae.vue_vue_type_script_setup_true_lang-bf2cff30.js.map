{"version":3,"file":"AlterarCategoriaMae.vue_vue_type_script_setup_true_lang-bf2cff30.js","sources":["../../../resources/js/Pages/Admin/Equipamentos/Cadastro/Categoria/Componentes/AlterarCategoriaMae.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport axios from 'axios'\nimport { ref, reactive } from 'vue'\nimport Modal from '@/Componentes/Layout/Modal.vue'\n\nconst modal = ref(null)\nconst props = defineProps({\n    categoria: Object,\n})\nconst emit = defineEmits<{(e: 'moverCategoria', value: Number): void}>()\nconst state = reactive({\n    categoriaAtual: {},\n    categorias: [],\n})\n\nfunction atualizarCategorias(categoriaId) {\n    loader.show()\n    const url = categoriaId ? `/admin/categorias/pesquisar/${categoriaId}` : '/admin/categorias/pesquisar'\n    axios.get(url).then((response) => {\n        state.categorias = response.data.categorias\n        state.categoriaAtual = response.data.categoria\n        loader.hide()\n    })\n}\n\nfunction show() {\n    atualizarCategorias(props.categoria?.categoria_mae?.id)\n    modal.value.show()\n}\n\nfunction moverCategoria() {\n    emit('moverCategoria', state.categoriaAtual?.id)\n    modal.value.hide()\n}\n\ndefineExpose({ show })\n</script>\n\n<template>\n    <Modal :id=\"'modal_' + categoria.id\" ref=\"modal\" :title=\"'Mover ' + categoria.nome\">\n        <div v-if=\"state.categoriaAtual\">\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"atualizarCategorias(state.categoriaAtual.categoria_mae?.id)\">\n                <i class=\"fas fa-arrow-left me-1\" />\n                {{ state.categoriaAtual.categoria_mae?.nome ?? \"Categorias\" }}\n            </button>\n        </div>\n\n        <div class=\"table-responsive\">\n            <table class=\"table table-striped table-hover\">\n                <thead>\n                    <th>Nome</th>\n                    <th />\n                </thead>\n                <tbody>\n                    <tr v-for=\"cat in state.categorias\" :key=\"cat.id\">\n                        <td>{{ cat.nome }}</td>\n                        <td>\n                            <button v-if=\"cat.id != categoria.id\" type=\"button\" class=\"btn btn-primary\" @click=\"atualizarCategorias(cat.id)\">\n                                Acessar <i class=\"fas fa-arrow-right\" />\n                            </button>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n\n        <template #footer>\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"moverCategoria()\">\n                Mover para {{ state.categoriaAtual?.nome ?? \"Categorias\" }}\n            </button>\n        </template>\n    </Modal>\n</template>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAKM,UAAA,QAAQ,IAAI,IAAI;AAKtB,UAAM,QAAQ,SAAS;AAAA,MACnB,gBAAgB,CAAC;AAAA,MACjB,YAAY,CAAC;AAAA,IAAA,CAChB;AAED,aAAS,oBAAoB,aAAa;AACtC,aAAO,KAAK;AACN,YAAA,MAAM,cAAc,+BAA+B,gBAAgB;AACzE,YAAM,IAAI,GAAG,EAAE,KAAK,CAAC,aAAa;AACxB,cAAA,aAAa,SAAS,KAAK;AAC3B,cAAA,iBAAiB,SAAS,KAAK;AACrC,eAAO,KAAK;AAAA,MAAA,CACf;AAAA,IACL;AAEA,aAAS,OAAO;;AACQ,2BAAA,iBAAM,cAAN,mBAAiB,kBAAjB,mBAAgC,EAAE;AACtD,YAAM,MAAM;IAChB;AAEA,aAAS,iBAAiB;;AACjB,WAAA,mBAAkB,WAAM,mBAAN,mBAAsB,EAAE;AAC/C,YAAM,MAAM;IAChB;AAEa,WAAA,EAAE,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}