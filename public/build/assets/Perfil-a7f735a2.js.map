{"version":3,"file":"Perfil-a7f735a2.js","sources":["../../../resources/js/Pages/Site/Perfil/Perfil.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { useForm } from '@inertiajs/vue3'\nimport { onMounted } from '@vue/runtime-core'\nimport { ref } from 'vue'\nimport Mask from '@/Componentes/Helper/InputMask'\nimport FormError from '@/Componentes/Layout/Forms/FormError.vue'\nimport SiteLayout from '@/Layouts/SiteLayout.vue'\n\nconst props = defineProps({\n    user: Object,\n})\n\nconst form = useForm({\n    nome: props.user.nome,\n    email: props.user.email,\n    cpf_cnpj: props.user.cpf ?? props.user.cnpj,\n    celular: props.user.celular,\n    password: '',\n    password_confirmation: '',\n})\n\nconst elCpfCnpj = ref(null)\nconst elCelular = ref(null)\n\nonMounted(() => {\n    Mask.cpf_cnpj(elCpfCnpj.value)\n    Mask.telefone(elCelular.value)\n})\n\nfunction submit() {\n    form.transform((data) => ({\n        ...data,\n        celular: data.celular.replaceAll(/\\D/g, ''),\n        cpf_cnpj: data.cpf_cnpj.replaceAll(/\\D/g, ''),\n    })).post('/perfil/atualizar', {\n        onFinish: () => form.reset('password', 'password_confirmation'),\n    })\n}\n</script>\n\n<template>\n    <SiteLayout titulo=\"Perfil\">\n        <div class=\"container perfil\">\n            <form @submit.prevent=\"submit\">\n                <div class=\"mb-3\">\n                    <h2>Meu Perfil</h2>\n                </div>\n\n                <div class=\"mb-3\">\n                    <label for=\"nome\">Nome</label>\n                    <input id=\"nome\" v-model=\"form.nome\" class=\"form-control\" type=\"text\" autocomplete=\"nome\">\n                    <FormError :error=\"form.errors.nome\" />\n                </div>\n\n                <div class=\"mb-3\">\n                    <label for=\"email\">E-mail</label>\n                    <input id=\"email\" v-model=\"form.email\" class=\"form-control\" type=\"email\" autocomplete=\"email\">\n                    <FormError :error=\"form.errors.email\" />\n                </div>\n\n                <div class=\"mb-3\">\n                    <label for=\"cpf_cnpj\">CPF ou CNPJ</label>\n                    <input id=\"cpf_cnpj\" ref=\"elCpfCnpj\" v-model=\"form.cpf_cnpj\" class=\"form-control\" type=\"text\" autocomplete=\"cpf_cnpj\">\n                    <FormError :error=\"form.errors.cpf_cnpj\" />\n                    <FormError :error=\"form.errors.cpf\" />\n                    <FormError :error=\"form.errors.cnpj\" />\n                </div>\n\n                <div class=\"mb-3\">\n                    <label for=\"celular\">Celular</label>\n                    <input id=\"celular\" ref=\"elCelular\" v-model=\"form.celular\" class=\"form-control\" type=\"text\" autocomplete=\"celular\">\n                    <FormError :error=\"form.errors.celular\" />\n                </div>\n\n                <div class=\"mb-3\">\n                    <label for=\"password\">Senha</label>\n                    <input id=\"password\" v-model=\"form.password\" class=\"form-control\" type=\"password\" autocomplete=\"new-password\">\n                    <FormError :error=\"form.errors.password\" />\n                </div>\n\n                <div class=\"mb-3\">\n                    <label for=\"password_confirmation\">Confirmar Senha</label>\n                    <input id=\"password_confirmation\" v-model=\"form.password_confirmation\" class=\"form-control\" type=\"password\" autocomplete=\"new-password\">\n                    <FormError :error=\"form.errors.password_confirmation\" />\n                </div>\n\n                <div class=\"mb-3\">\n                    <button class=\"btn btn-primary\" type=\"submit\">\n                        Atualizar\n                    </button>\n                </div>\n            </form>\n        </div>\n    </SiteLayout>\n</template>\n"],"names":["useForm"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYA,UAAM,OAAOA,EAAQ;AAAA,MACjB,MAAM,MAAM,KAAK;AAAA,MACjB,OAAO,MAAM,KAAK;AAAA,MAClB,UAAU,MAAM,KAAK,OAAO,MAAM,KAAK;AAAA,MACvC,SAAS,MAAM,KAAK;AAAA,MACpB,UAAU;AAAA,MACV,uBAAuB;AAAA,IAAA,CAC1B;AAEK,UAAA,YAAY,IAAI,IAAI;AACpB,UAAA,YAAY,IAAI,IAAI;AAE1B,cAAU,MAAM;AACP,WAAA,SAAS,UAAU,KAAK;AACxB,WAAA,SAAS,UAAU,KAAK;AAAA,IAAA,CAChC;AAED,aAAS,SAAS;AACT,WAAA,UAAU,CAAC,UAAU;AAAA,QACtB,GAAG;AAAA,QACH,SAAS,KAAK,QAAQ,WAAW,OAAO,EAAE;AAAA,QAC1C,UAAU,KAAK,SAAS,WAAW,OAAO,EAAE;AAAA,MAAA,EAC9C,EAAE,KAAK,qBAAqB;AAAA,QAC1B,UAAU,MAAM,KAAK,MAAM,YAAY,uBAAuB;AAAA,MAAA,CACjE;AAAA,IACL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}