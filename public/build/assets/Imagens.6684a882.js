import{d as g,r as v,C as h,c as q,w as r,o as l,a as e,h as i,g as c,j as x,t as y,i as d,u as s,n as u,F as C,m as $,D as k,E as w}from"./app.4327bc59.js";import{_ as E}from"./Modal.vue_vue_type_script_setup_true_lang.cf7ab79b.js";import{_ as f}from"./FormError.vue_vue_type_script_setup_true_lang.79e7a334.js";import{_ as I}from"./SiteLayout.vue_vue_type_script_setup_true_lang.d1f1f04d.js";import{_ as N}from"./Navegacao.vue_vue_type_script_setup_true_lang.3f2e055b.js";import"./_plugin-vue_export-helper.d1202830.js";import"./index.c57ba517.js";const V={class:"container-600"},A={class:"row mb-3"},B={class:"row"},D=["src","alt"],j={key:0},F=e("p",null,"Nenhuma imagem adicionada",-1),S=[F],T={class:"mb-3"},L=e("label",{for:"descricao"},"Descri\xE7\xE3o",-1),M={class:"mb-3"},O=e("label",{for:"imagem"},null,-1),R=g({__name:"Imagens",props:{equipamento:Object},setup(a){const p=a,m=v(null),n=h({descricao:"",imagem:{}});function _(){m.value.show()}function b(){n.post(`/equipamento/${p.equipamento.id}/imagens/salvar`,{onSuccess:()=>{m.value.hide()}})}return(U,o)=>(l(),q(I,{titulo:"Cadastrar Imagem"},{default:r(()=>[e("div",V,[i(N,{class:"mb-3",passoAtual:2,passoCadastro:a.equipamento.passo_cadastro,equipamento:a.equipamento},null,8,["passoCadastro","equipamento"]),e("div",A,[e("button",{type:"button",class:"btn btn-primary",onClick:o[0]||(o[0]=t=>_())}," Adicionar Imagem ")]),e("div",B,[(l(!0),c(C,null,x(a.equipamento.imagens,t=>(l(),c("div",{key:t.id,class:"col-12 col-lg-6 col-xl-4 mb-3"},[e("img",{class:"card-img-top",src:t.url,alt:t.descricao},null,8,D),e("p",null,y(t.descricao),1),i(s(u),{href:`/equipamento/${a.equipamento.id}/imagens/${t.id}/excluir`,class:"btn btn-danger"},{default:r(()=>[d(" Excluir ")]),_:2},1032,["href"])]))),128)),a.equipamento.imagens.length==0?(l(),c("div",j,S)):$("",!0)]),e("div",null,[i(s(u),{href:`/equipamento/${a.equipamento.id}/imagens/continuar`,class:"btn btn-primary"},{default:r(()=>[d(" Continuar ")]),_:1},8,["href"])])]),i(E,{id:"modal_"+a.equipamento.id,ref_key:"modal",ref:m,title:"Adicionar Imagem"},{footer:r(()=>[e("button",{type:"submit",class:"btn btn-primary",onClick:o[3]||(o[3]=t=>b())}," Adicionar ")]),default:r(()=>[e("div",T,[L,k(e("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>s(n).descricao=t),type:"text",name:"descricao",class:"form-control"},null,512),[[w,s(n).descricao]]),i(f,{error:s(n).errors.descricao},null,8,["error"])]),e("div",M,[O,e("input",{type:"file",name:"imagem",class:"form-control form-control-file",onInput:o[2]||(o[2]=t=>s(n).imagem=t.target.files[0])},null,32),i(f,{error:s(n).errors.imagem},null,8,["error"])])]),_:1},8,["id"])]),_:1}))}});export{R as default};
