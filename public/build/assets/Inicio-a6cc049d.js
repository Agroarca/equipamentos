import{d as _,r as b,v as g,k as i,a as e,F as h,m as v,l as y,f as r,w as c,o as l,t as k,h as q,u as a,n as x,b as $,e as w}from"./app-27f9bc00.js";import{_ as C}from"./Modal.vue_vue_type_script_setup_true_lang-d8f67997.js";import{_ as m}from"./FormError.vue_vue_type_script_setup_true_lang-d0c6606d.js";const I={class:"card card-default"},N=e("div",{class:"card-header"},[e("h5",{class:"card-title"}," Imagens ")],-1),V={class:"card-body"},A={class:"row mb-3"},B={class:"row"},D=["src","alt"],E={key:0},F=e("p",null,"Nenhuma imagem adicionada",-1),S=[F],T={class:"mb-3"},j=e("label",{for:"descricao"},null,-1),L={class:"mb-3"},M=e("label",{for:"imagem"},null,-1),H=_({__name:"Inicio",props:{equipamento:Object},setup(n){const u=n,d=b(null),s=g({descricao:"",imagem:{}});function f(){d.value.show()}function p(){s.post(`/admin/equipamentos/${u.equipamento.id}/imagens/adicionar`,{onSuccess:()=>{d.value.hide()}})}return(O,o)=>(l(),i("div",I,[N,e("div",V,[e("div",A,[e("button",{type:"button",class:"btn btn-primary",onClick:o[0]||(o[0]=t=>f())}," Adicionar Imagem ")]),e("div",B,[(l(!0),i(h,null,v(n.equipamento.imagens,t=>(l(),i("div",{key:t.id,class:"col-12 col-lg-6 col-xl-4 mb-3"},[e("img",{class:"card-img-top",src:t.url,alt:t.descricao},null,8,D),e("p",null,k(t.descricao),1),r(a(x),{href:`/admin/equipamentos/${n.equipamento.id}/imagens/${t.id}/deletar`,class:"btn btn-danger"},{default:c(()=>[q(" Excluir ")]),_:2},1032,["href"])]))),128)),n.equipamento.imagens.length==0?(l(),i("div",E,S)):y("",!0)])]),r(C,{id:"modal_"+n.equipamento.id,ref_key:"modal",ref:d,title:"Adicionar Imagem"},{footer:c(()=>[e("button",{type:"button",class:"btn btn-primary",onClick:o[3]||(o[3]=t=>p())}," Adicionar ")]),default:c(()=>[e("div",T,[j,$(e("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>a(s).descricao=t),type:"text",name:"descricao",class:"form-control"},null,512),[[w,a(s).descricao]]),r(m,{error:a(s).errors.descricao},null,8,["error"])]),e("div",L,[M,e("input",{type:"file",name:"imagem",class:"form-control-file",onInput:o[2]||(o[2]=t=>a(s).imagem=t.target.files[0])},null,32),r(m,{error:a(s).errors.imagem},null,8,["error"])])]),_:1},8,["id"])]))}});export{H as default};
