{"version":3,"file":"Imagens-db2ba63e.js","sources":["../../../resources/js/Pages/Site/Equipamento/Cadastrar/Imagens.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { Link, useForm } from '@inertiajs/vue3'\nimport { ref } from 'vue'\nimport Modal from '@/Componentes/Layout/Modal.vue'\nimport FormError from '@/Componentes/Layout/Forms/FormError.vue'\nimport SiteLayout from '@/Layouts/SiteLayout.vue'\nimport Navegacao from './Componentes/Navegacao.vue'\n\nconst modal = ref(null)\nconst props = defineProps({\n    equipamento: Object,\n    errors: Object,\n})\n\nconst form = useForm({\n    descricao: '',\n    imagem: {},\n})\n\nfunction adicionar() {\n    modal.value.show()\n}\nfunction upload() {\n    form.post(`/equipamento/${props.equipamento.id}/imagens/salvar`, {\n        onSuccess: () => {\n            modal.value.hide()\n        },\n    })\n}\n\n</script>\n\n<template>\n    <SiteLayout titulo=\"Cadastrar Imagem\">\n        <div class=\"container-600 cadastrar-equipamento imagens\">\n            <h2 class=\"titulo text-center mb-3\">\n                Imagens do Equipamento\n            </h2>\n            <Navegacao class=\"mb-3\" :passoAtual=\"2\" :passoCadastro=\"equipamento.passo_cadastro\" :equipamento=\"equipamento\" />\n            <div v-if=\"errors.imagem\" class=\"row mb-3\">\n                <div class=\"alert alert-warning\">\n                    <label for=\"erro\" class=\"imagem\">{{ errors.imagem }}</label>\n                </div>\n            </div>\n            <div class=\"my-3\">\n                <div v-for=\"imagem in equipamento.imagens\" :key=\"imagem.id\" class=\"imagem\">\n                    <img :src=\"imagem.url\" :alt=\"imagem.descricao\">\n                    <p> {{ imagem.descricao }} </p>\n                    <Link :href=\"`/equipamento/${equipamento.id}/imagens/${imagem.id}/excluir`\" class=\"btn btn-danger\">\n                        Excluir\n                    </Link>\n                </div>\n\n                <div v-if=\"equipamento.imagens.length == 0\" class=\"alert alert-warning\">\n                    <span>Nenhuma imagem adicionada</span>\n                </div>\n            </div>\n            <div class=\" mt-3\">\n                <button type=\"button\" class=\"btn btn-primary me-3 mb-3\" @click=\"adicionar()\">\n                    Adicionar Imagem\n                </button>\n                <Link :href=\"`/equipamento/${equipamento.id}/imagens/continuar`\" class=\"btn btn-primary\" :class=\"{ disabled: equipamento.imagens.length == 0 }\">\n                    Continuar\n                </Link>\n            </div>\n        </div>\n        <Modal :id=\"'modal_' + equipamento.id\" ref=\"modal\" title=\"Adicionar Imagem\">\n            <div class=\"mb-3\">\n                <label for=\"descricao\">Descrição</label>\n                <input v-model=\"form.descricao\" type=\"text\" name=\"descricao\" class=\"form-control\">\n                <FormError :error=\"form.errors.descricao\" />\n            </div>\n            <div class=\"mb-3\">\n                <label for=\"imagem\" />\n                <input type=\"file\" name=\"imagem\" class=\"form-control form-control-file\" @input=\"form.imagem = $event.target.files[0]\">\n                <FormError :error=\"form.errors.imagem\" />\n            </div>\n            <template #footer>\n                <button type=\"submit\" class=\"btn btn-primary\" @click=\"upload()\">\n                    Adicionar\n                </button>\n            </template>\n        </Modal>\n    </SiteLayout>\n</template>\n"],"names":["useForm"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQM,UAAA,QAAQ,IAAI,IAAI;AAMtB,UAAM,OAAOA,EAAQ;AAAA,MACjB,WAAW;AAAA,MACX,QAAQ,CAAC;AAAA,IAAA,CACZ;AAED,aAAS,YAAY;AACjB,YAAM,MAAM;IAChB;AACA,aAAS,SAAS;AACd,WAAK,KAAK,gBAAgB,MAAM,YAAY,qBAAqB;AAAA,QAC7D,WAAW,MAAM;AACb,gBAAM,MAAM;QAChB;AAAA,MAAA,CACH;AAAA,IACL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}