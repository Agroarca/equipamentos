{"version":3,"file":"Conversas-545a91a9.js","sources":["../../../resources/js/Pages/Site/Equipamento/Conversa/Conversas.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { Link } from '@inertiajs/vue3'\nimport SiteLayout from '@/Layouts/SiteLayout.vue'\n\nconst props = defineProps({\n    equipamento: Object,\n    conversas: Object,\n})\n\nfunction getQuantidadeNaoLidas(conversa) {\n    return conversa.visualizacao[0]?.mensagens_nao_visualizadas ?? 0\n}\n\nfunction getNomeNaoLidas(conversa) {\n    const naoLidas = getQuantidadeNaoLidas(conversa)\n\n    if (naoLidas === 1) {\n        return `${naoLidas} mensagem não lida`\n    }\n\n    return `${naoLidas} mensagens não lidas`\n}\n\n</script>\n\n<template>\n    <SiteLayout :titulo=\"`Conversas de ${equipamento.titulo }`\">\n        <div class=\"container conversas\">\n            <h2>Conversas de {{ equipamento.titulo }} </h2>\n\n            <div class=\"lista\">\n                <div v-for=\"conversa in conversas.data\" :key=\"conversa.id\" class=\"conversa\">\n                    <div class=\"infos\">\n                        <span class=\"nome\">{{ conversa.usuario.nome }}</span>\n                        <span v-if=\"getQuantidadeNaoLidas(conversa) > 0\" class=\"mensagens_nao_lidas\">{{ getNomeNaoLidas(conversa) }}</span>\n                    </div>\n                    <div class=\"botao\">\n                        <Link class=\"btn btn-primary\" :href=\"`/conversa/${conversa.id}`\">\n                            Acessar\n                        </Link>\n                    </div>\n                </div>\n                <div v-if=\"conversas.data.length == 0\">\n                    <div class=\"alert alert-danger\">\n                        Nenhuma Conversa encontrada\n                    </div>\n                </div>\n            </div>\n        </div>\n    </SiteLayout>\n</template>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AASA,aAAS,sBAAsB,UAAU;;AACrC,eAAO,cAAS,aAAa,CAAC,MAAvB,mBAA0B,+BAA8B;AAAA,IACnE;AAEA,aAAS,gBAAgB,UAAU;AACzB,YAAA,WAAW,sBAAsB,QAAQ;AAE/C,UAAI,aAAa,GAAG;AAChB,eAAO,GAAG;AAAA,MACd;AAEA,aAAO,GAAG;AAAA,IACd;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}