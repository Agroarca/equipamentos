{"version":3,"file":"Inicio-dac374cc.js","sources":["../../../resources/js/Pages/Admin/Equipamentos/Cadastro/Equipamento/Imagens/Inicio.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { Link, useForm } from '@inertiajs/vue3'\nimport { ref } from 'vue'\nimport Modal from '@/Componentes/Layout/Modal.vue'\nimport FormError from '@/Componentes/Layout/Forms/FormError.vue'\n\nconst modal = ref(null)\nconst props = defineProps({\n    equipamento: Object,\n})\n\nconst form = useForm({\n    descricao: '',\n    imagem: {},\n})\n\nfunction adicionar() {\n    modal.value.show()\n}\n\nfunction upload() {\n    form.post(`/admin/equipamentos/${props.equipamento.id}/imagens/adicionar`, {\n        onSuccess: () => {\n            modal.value.hide()\n        },\n    })\n}\n</script>\n\n<template>\n    <div class=\"card card-default\">\n        <div class=\"card-header\">\n            <h5 class=\"card-title\">\n                Imagens\n            </h5>\n        </div>\n        <div class=\"card-body\">\n            <div class=\"row mb-3\">\n                <button type=\"button\" class=\"btn btn-primary\" @click=\"adicionar()\">\n                    Adicionar Imagem\n                </button>\n            </div>\n            <div class=\"row\">\n                <div v-for=\"imagem in equipamento.imagens\" :key=\"imagem.id\" class=\"col-12 col-lg-6 col-xl-4 mb-3\">\n                    <img class=\"card-img-top\" :src=\"imagem.url\" :alt=\"imagem.descricao\">\n                    <p>{{ imagem.descricao }}</p>\n                    <Link :href=\"`/admin/equipamentos/${equipamento.id}/imagens/${imagem.id}/deletar`\" class=\"btn btn-danger\">\n                        Excluir\n                    </Link>\n                </div>\n                <div v-if=\"equipamento.imagens.length == 0\">\n                    <p>Nenhuma imagem adicionada</p>\n                </div>\n            </div>\n        </div>\n        <Modal :id=\"'modal_' + equipamento.id\" ref=\"modal\" title=\"Adicionar Imagem\">\n            <div class=\"mb-3\">\n                <label for=\"descricao\" />\n                <input v-model=\"form.descricao\" type=\"text\" name=\"descricao\" class=\"form-control\">\n                <FormError :error=\"form.errors.descricao\" />\n            </div>\n            <div class=\"mb-3\">\n                <label for=\"imagem\" />\n                <input type=\"file\" name=\"imagem\" class=\"form-control-file\" @input=\"form.imagem = $event.target.files[0]\">\n                <FormError :error=\"form.errors.imagem\" />\n            </div>\n            <template #footer>\n                <button type=\"button\" class=\"btn btn-primary\" @click=\"upload()\">\n                    Adicionar\n                </button>\n            </template>\n        </Modal>\n    </div>\n</template>\n"],"names":["useForm"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAMM,UAAA,QAAQ,IAAI,IAAI;AAKtB,UAAM,OAAOA,EAAQ;AAAA,MACjB,WAAW;AAAA,MACX,QAAQ,CAAC;AAAA,IAAA,CACZ;AAED,aAAS,YAAY;AACjB,YAAM,MAAM;IAChB;AAEA,aAAS,SAAS;AACd,WAAK,KAAK,uBAAuB,MAAM,YAAY,wBAAwB;AAAA,QACvE,WAAW,MAAM;AACb,gBAAM,MAAM;QAChB;AAAA,MAAA,CACH;AAAA,IACL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}