import{d as _,m as b,v as g,i as n,b as e,F as h,r as v,k as y,g as r,w as d,o as l,t as q,s as k,u as a,q as x,e as $,f as w}from"./app.92dabaaf.js";import{_ as C}from"./Modal.vue_vue_type_script_setup_true_lang.9310c7f4.js";import{_ as m}from"./FormError.vue_vue_type_script_setup_true_lang.1d9d5258.js";const I={class:"card card-default"},N=e("div",{class:"card-header"},[e("h5",{class:"card-title"}," Imagens ")],-1),V={class:"card-body"},A={class:"row mb-3"},B={class:"row"},D=["src","alt"],E={key:0},F=e("p",null,"Nenhuma imagem adicionada",-1),S=[F],T={class:"mb-3"},j=e("label",{for:"descricao"},null,-1),L={class:"mb-3"},M=e("label",{for:"imagem"},null,-1),H=_({__name:"Inicio",props:{equipamento:Object},setup(i){const u=i,c=b(null),s=g({descricao:"",imagem:{}});function f(){c.value.show()}function p(){s.post(`/admin/equipamentos/${u.equipamento.id}/imagens/adicionar`,{onSuccess:()=>{c.value.hide()}})}return(O,o)=>(l(),n("div",I,[N,e("div",V,[e("div",A,[e("button",{type:"button",class:"btn btn-primary",onClick:o[0]||(o[0]=t=>f())}," Adicionar Imagem ")]),e("div",B,[(l(!0),n(h,null,v(i.equipamento.imagens,t=>(l(),n("div",{key:t.id,class:"col-12 col-lg-6 col-xl-4 mb-3"},[e("img",{class:"card-img-top",src:t.url,alt:t.descricao},null,8,D),e("p",null,q(t.descricao),1),r(a(x),{href:`/admin/equipamentos/${i.equipamento.id}/imagens/${t.id}/deletar`,class:"btn btn-danger"},{default:d(()=>[k(" Excluir ")]),_:2},1032,["href"])]))),128)),i.equipamento.imagens.length==0?(l(),n("div",E,S)):y("",!0)])]),r(C,{id:"modal_"+i.equipamento.id,ref_key:"modal",ref:c,title:"Adicionar Imagem"},{footer:d(()=>[e("button",{type:"button",class:"btn btn-primary",onClick:o[3]||(o[3]=t=>p())}," Adicionar ")]),default:d(()=>[e("div",T,[j,$(e("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>a(s).descricao=t),type:"text",name:"descricao",class:"form-control"},null,512),[[w,a(s).descricao]]),r(m,{error:a(s).errors.descricao},null,8,["error"])]),e("div",L,[M,e("input",{type:"file",name:"imagem",class:"form-control-file",onInput:o[2]||(o[2]=t=>a(s).imagem=t.target.files[0])},null,32),r(m,{error:a(s).errors.imagem},null,8,["error"])])]),_:1},8,["id"])]))}});export{H as _};
