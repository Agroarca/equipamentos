import{d as b,v as j,r as d,x as v,c as h,w as C,o as y,a as o,g as x,b as a,e as i,u as e,f as t}from"./app-27f9bc00.js";import{M as f}from"./InputMask-0569ae5b.js";import{_ as n}from"./FormError.vue_vue_type_script_setup_true_lang-d0c6606d.js";import{_ as V}from"./SiteLayout.vue_vue_type_script_setup_true_lang-d9d66c83.js";import"./_plugin-vue_export-helper-d695034f.js";import"./index-ac617c56.js";const M={class:"container perfil"},U=["onSubmit"],k=o("div",{class:"mb-3"},[o("h2",null,"Meu Perfil")],-1),P={class:"mb-3"},N=o("label",{for:"nome"},"Nome",-1),S={class:"mb-3"},g=o("label",{for:"email"},"E-mail",-1),A={class:"mb-3"},B=o("label",{for:"cpf_cnpj"},"CPF ou CNPJ",-1),D={class:"mb-3"},z=o("label",{for:"celular"},"Celular",-1),F={class:"mb-3"},$=o("label",{for:"password"},"Senha",-1),E={class:"mb-3"},J=o("label",{for:"password_confirmation"},"Confirmar Senha",-1),O=o("div",{class:"mb-3"},[o("button",{class:"btn btn-primary",type:"submit"}," Atualizar ")],-1),L=b({__name:"Perfil",props:{user:Object},setup(_){const p=_,r=j({nome:p.user.nome,email:p.user.email,cpf_cnpj:p.user.cpf??p.user.cnpj,celular:p.user.celular,password:"",password_confirmation:""}),m=d(null),u=d(null);v(()=>{f.cpf_cnpj(m.value),f.telefone(u.value)});function w(){r.transform(c=>({...c,celular:c.celular.replaceAll(/\D/g,""),cpf_cnpj:c.cpf_cnpj.replaceAll(/\D/g,"")})).post("/perfil/atualizar",{onFinish:()=>r.reset("password","password_confirmation")})}return(c,s)=>(y(),h(V,{titulo:"Perfil"},{default:C(()=>[o("div",M,[o("form",{onSubmit:x(w,["prevent"])},[k,o("div",P,[N,a(o("input",{id:"nome","onUpdate:modelValue":s[0]||(s[0]=l=>e(r).nome=l),class:"form-control",type:"text",autocomplete:"nome"},null,512),[[i,e(r).nome]]),t(n,{error:e(r).errors.nome},null,8,["error"])]),o("div",S,[g,a(o("input",{id:"email","onUpdate:modelValue":s[1]||(s[1]=l=>e(r).email=l),class:"form-control",type:"email",autocomplete:"email"},null,512),[[i,e(r).email]]),t(n,{error:e(r).errors.email},null,8,["error"])]),o("div",A,[B,a(o("input",{id:"cpf_cnpj",ref_key:"elCpfCnpj",ref:m,"onUpdate:modelValue":s[2]||(s[2]=l=>e(r).cpf_cnpj=l),class:"form-control",type:"text",autocomplete:"cpf_cnpj"},null,512),[[i,e(r).cpf_cnpj]]),t(n,{error:e(r).errors.cpf_cnpj},null,8,["error"]),t(n,{error:e(r).errors.cpf},null,8,["error"]),t(n,{error:e(r).errors.cnpj},null,8,["error"])]),o("div",D,[z,a(o("input",{id:"celular",ref_key:"elCelular",ref:u,"onUpdate:modelValue":s[3]||(s[3]=l=>e(r).celular=l),class:"form-control",type:"text",autocomplete:"celular"},null,512),[[i,e(r).celular]]),t(n,{error:e(r).errors.celular},null,8,["error"])]),o("div",F,[$,a(o("input",{id:"password","onUpdate:modelValue":s[4]||(s[4]=l=>e(r).password=l),class:"form-control",type:"password",autocomplete:"new-password"},null,512),[[i,e(r).password]]),t(n,{error:e(r).errors.password},null,8,["error"])]),o("div",E,[J,a(o("input",{id:"password_confirmation","onUpdate:modelValue":s[5]||(s[5]=l=>e(r).password_confirmation=l),class:"form-control",type:"password",autocomplete:"new-password"},null,512),[[i,e(r).password_confirmation]]),t(n,{error:e(r).errors.password_confirmation},null,8,["error"])]),O],40,U)])]),_:1}))}});export{L as default};
