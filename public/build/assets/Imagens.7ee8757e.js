import{d as v,r as q,C as y,c as x,w as n,o as l,a as e,h as r,g as m,t as u,m as f,j as C,i as p,u as s,n as _,F as $,D as k,E as w}from"./app.8ded473b.js";import{_ as E}from"./Modal.vue_vue_type_script_setup_true_lang.42cfa6c0.js";import{_ as g}from"./FormError.vue_vue_type_script_setup_true_lang.ca353cf1.js";import{_ as I}from"./SiteLayout.vue_vue_type_script_setup_true_lang.82a1941e.js";import{_ as N}from"./Navegacao.vue_vue_type_script_setup_true_lang.731199f8.js";import"./_plugin-vue_export-helper.e79ab7af.js";import"./index.c57ba517.js";const V={class:"container-600"},A={class:"row mb-3"},B={key:0,class:"alert alert-warning"},D={for:"erro",class:"imagem"},j={class:"row"},F=["src","alt"],O={key:0},S=e("p",null,"Nenhuma imagem adicionada",-1),T=[S],L={class:"mb-3"},M=e("label",{for:"descricao"},"Descri\xE7\xE3o",-1),U={class:"mb-3"},z=e("label",{for:"imagem"},null,-1),X=v({__name:"Imagens",props:{equipamento:Object,errors:Object},setup(t){const c=t,d=q(null),i=y({descricao:"",imagem:{}});function b(){d.value.show()}function h(){i.post(`/equipamento/${c.equipamento.id}/imagens/salvar`,{onSuccess:()=>{d.value.hide()}})}return(G,o)=>(l(),x(I,{titulo:"Cadastrar Imagem"},{default:n(()=>[e("div",V,[r(N,{class:"mb-3",passoAtual:2,passoCadastro:t.equipamento.passo_cadastro,equipamento:t.equipamento},null,8,["passoCadastro","equipamento"]),e("div",A,[c.errors.imagem?(l(),m("div",B,[e("label",D,u(c.errors.imagem),1)])):f("",!0),e("button",{type:"button",class:"btn btn-primary",onClick:o[0]||(o[0]=a=>b())}," Adicionar Imagem ")]),e("div",j,[(l(!0),m($,null,C(t.equipamento.imagens,a=>(l(),m("div",{key:a.id,class:"col-12 col-lg-6 col-xl-4 mb-3"},[e("img",{class:"card-img-top",src:a.url,alt:a.descricao},null,8,F),e("p",null,u(a.descricao),1),r(s(_),{href:`/equipamento/${t.equipamento.id}/imagens/${a.id}/excluir`,class:"btn btn-danger"},{default:n(()=>[p(" Excluir ")]),_:2},1032,["href"])]))),128)),t.equipamento.imagens.length==0?(l(),m("div",O,T)):f("",!0)]),e("div",null,[r(s(_),{href:`/equipamento/${t.equipamento.id}/imagens/continuar`,class:"btn btn-primary"},{default:n(()=>[p(" Continuar ")]),_:1},8,["href"])])]),r(E,{id:"modal_"+t.equipamento.id,ref_key:"modal",ref:d,title:"Adicionar Imagem"},{footer:n(()=>[e("button",{type:"submit",class:"btn btn-primary",onClick:o[3]||(o[3]=a=>h())}," Adicionar ")]),default:n(()=>[e("div",L,[M,k(e("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>s(i).descricao=a),type:"text",name:"descricao",class:"form-control"},null,512),[[w,s(i).descricao]]),r(g,{error:s(i).errors.descricao},null,8,["error"])]),e("div",U,[z,e("input",{type:"file",name:"imagem",class:"form-control form-control-file",onInput:o[2]||(o[2]=a=>s(i).imagem=a.target.files[0])},null,32),r(g,{error:s(i).errors.imagem},null,8,["error"])])]),_:1},8,["id"])]),_:1}))}});export{X as default};
